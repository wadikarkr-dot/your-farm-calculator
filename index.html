<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FarmIntel Pro | Master Agriculture Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root { --primary: #1b5e20; --secondary: #2e7d32; --loan: #f57c00; --soil: #795548; --accent: #2196f3; --bg: #f0f4f0; --white: #ffffff; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, sans-serif; background: var(--bg); margin: 0; padding: 0; color: #333; }
        
        header { background: var(--white); border-bottom: 1px solid #ddd; padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .logo { font-size: 1.4rem; font-weight: 800; color: var(--primary); text-decoration: none; }
        .lang-toggle { background: var(--primary); color: white; border: none; padding: 8px 15px; border-radius: 20px; font-weight: 600; cursor: pointer; }
        
        .main-container { max-width: 1100px; margin: 20px auto; padding: 0 15px; display: grid; grid-template-columns: 1fr 350px; gap: 20px; }
        @media (max-width: 900px) { .main-container { grid-template-columns: 1fr; } }

        .card { background: var(--white); border-radius: 12px; padding: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); margin-bottom: 20px; border-top: 5px solid var(--primary); }
        .card-soil { border-top-color: var(--soil); }
        .card-loan { border-top-color: var(--loan); }
        .card-converter { border-top-color: var(--accent); background: #e3f2fd; }

        h2 { font-size: 1.1rem; color: var(--primary); margin-top: 0; margin-bottom: 15px; }
        label { display: block; font-size: 0.85rem; font-weight: 700; margin-bottom: 5px; color: #555; }
        input, select, textarea { width: 100%; padding: 12px; margin-bottom: 15px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 1rem; }

        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .profit-box { background: var(--primary); color: white; padding: 20px; border-radius: 12px; text-align: center; margin-bottom: 20px; }
        
        .btn-pdf { background: #333; color: white; border: none; width: 100%; padding: 15px; border-radius: 10px; font-weight: bold; cursor: pointer; font-size: 1rem; }
        footer { background: #1a1a1a; color: #ccc; padding: 30px; text-align: center; font-size: 0.8rem; margin-top: 50px; }
        
        .badge { display: inline-block; padding: 4px 10px; border-radius: 4px; font-size: 0.75rem; font-weight: bold; background: #ddd; }
    </style>
</head>
<body>

<header>
    <a href="#" class="logo">üåæ FarmIntel Pro</a>
    <button class="lang-toggle" onclick="toggleLanguage()">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä / English</button>
</header>

<div class="main-container">
    <div id="report-content">
        
        <div class="card card-converter">
            <h2 id="h-conv">üîÑ Area Unit Converter</h2>
            <div class="grid-2">
                <div>
                    <label id="l-cval">Enter Value</label>
                    <input type="number" id="convInput" value="1" oninput="runCalculations()">
                </div>
                <div>
                    <label id="l-cunit">From Unit</label>
                    <select id="convUnit" onchange="runCalculations()">
                        <option value="acre">Acres</option>
                        <option value="hectare">Hectares</option>
                        <option value="bigha">Bighas</option>
                        <option value="guntha">Guntha</option>
                    </select>
                </div>
            </div>
            <p id="convDetail" style="font-weight: bold; color: var(--accent); margin: 0;">Total Acres: 1.00</p>
        </div>

        <div class="card card-soil">
            <h2 id="h-soil">üß™ Soil & Crop Setup</h2>
            <div class="grid-2">
                <div>
                    <label>Soil pH (0-14)</label>
                    <input type="number" id="ph" value="6.5" step="0.1" oninput="runCalculations()">
                </div>
                <div>
                    <label id="l-crop">Crop Selection</label>
                    <select id="cropType" onchange="runCalculations()">
                        <option value="maize">Maize / ‡§Æ‡§ï‡•ç‡§ï‡§æ</option>
                        <option value="wheat">Wheat / ‡§ó‡•á‡§π‡•Ç‡§Ç</option>
                        <option value="rice">Rice / ‡§ö‡§æ‡§µ‡§≤</option>
                        <option value="tomato">Tomato / ‡§ü‡§Æ‡§æ‡§ü‡§∞</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="profit-box" id="p-box">
            <small id="l-net">PROJECTED NET PROFIT</small>
            <h1 id="netProfit" style="margin: 10px 0;">‚Çπ0</h1>
            <span id="l-msg">Healthy Profit Expected</span>
        </div>

        <div class="card card-loan">
            <h2 id="h-loan">üè¶ Bank Loan Planner</h2>
            <label id="l-amt">Desired Loan Amount (‚Çπ)</label>
            <input type="number" id="lAmt" value="50000" oninput="runCalculations()">
            <p id="l-emi">Estimated Monthly EMI: <b id="emiRes" style="color:var(--loan)">‚Çπ0</b></p>
        </div>

        <button class="btn-pdf" id="b-pdf" onclick="savePDF()">üì• DOWNLOAD BUSINESS REPORT</button>
    </div>

    <aside>
        <div class="card">
            <h2 id="h-con">‚úâÔ∏è Contact Expert</h2>
            <form action="https://formspree.io/f/your-email@example.com" method="POST">
                <input type="text" name="name" placeholder="Full Name" required>
                <textarea name="msg" placeholder="Describe your farm issue..." rows="3" required></textarea>
                <button type="submit" class="btn-pdf" style="background:var(--primary)">Send Message</button>
            </form>
        </div>
        
        <div class="card" style="text-align: center; border: 1px dashed #ccc;">
            <p style="color:#999; font-size: 0.7rem;">ADVERTISEMENT</p>
            <div style="height: 200px; background: #f9f9f9; display: flex; align-items: center; justify-content: center;">
                Ad Slot
            </div>
        </div>
    </aside>
</div>

<footer>
    <p>&copy; 2025 FarmIntel Pro | <a href="#" style="color:#81c784">Privacy Policy</a> | <a href="#" style="color:#81c784">Terms</a></p>
    <p style="font-size: 0.7rem; color: #666; margin-top: 10px;">Disclaimer: Agricultural yields depend on weather and management.</p>
</footer>

<script>
    let currentLang = 'en';

    const translations = {
        en: { hConv: "üîÑ Unit Converter", hSoil: "üß™ Soil & Crop Setup", hLoan: "üè¶ Bank Loan Planner", lNet: "PROJECTED NET PROFIT", bPdf: "üì• DOWNLOAD BUSINESS REPORT", hCon: "‚úâÔ∏è Contact Expert" },
        hi: { hConv: "üîÑ ‡§á‡§ï‡§æ‡§à ‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§ï", hSoil: "üß™ ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§î‡§∞ ‡§´‡§∏‡§≤", hLoan: "üè¶ ‡§¨‡•à‡§Ç‡§ï ‡§ã‡§£ ‡§Ø‡•ã‡§ú‡§®‡§æ", lNet: "‡§Ö‡§®‡•Å‡§Æ‡§æ‡§®‡§ø‡§§ ‡§∂‡•Å‡§¶‡•ç‡§ß ‡§≤‡§æ‡§≠", bPdf: "üì• ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç", hCon: "‚úâÔ∏è ‡§µ‡§ø‡§∂‡•á‡§∑‡§ú‡•ç‡§û ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç" }
    };

    const cropData = {
        maize: { yield: 2500, cost: 32000, price: 22 },
        wheat: { yield: 2100, cost: 28000, price: 25 },
        rice: { yield: 2300, cost: 42000, price: 29 },
        tomato: { yield: 11000, cost: 85000, price: 16 }
    };

    function toggleLanguage() {
        currentLang = currentLang === 'en' ? 'hi' : 'en';
        const t = translations[currentLang];
        document.getElementById('h-conv').innerText = t.hConv;
        document.getElementById('h-soil').innerText = t.hSoil;
        document.getElementById('h-loan').innerText = t.hLoan;
        document.getElementById('l-net').innerText = t.lNet;
        document.getElementById('b-pdf').innerText = t.bPdf;
        document.getElementById('h-con').innerText = t.hCon;
        runCalculations();
    }

    function runCalculations() {
        // Unit Conversion
        const val = parseFloat(document.getElementById('convInput').value) || 0;
        const unit = document.getElementById('convUnit').value;
        let acres = 0;

        if(unit === 'acre') acres = val;
        else if(unit === 'hectare') acres = val * 2.47;
        else if(unit === 'bigha') acres = val * 0.62;
        else if(unit === 'guntha') acres = val * 0.025;

        document.getElementById('convDetail').innerText = `Total Acres: ${acres.toFixed(2)}`;

        // Profit Calculation
        const selectedCrop = document.getElementById('cropType').value;
        const data = cropData[selectedCrop];
        const revenue = (data.yield * data.price) * acres;
        const totalCost = data.cost * acres;
        const profit = revenue - totalCost;

        document.getElementById('netProfit').innerText = "‚Çπ" + Math.round(profit).toLocaleString();
        document.getElementById('p-box').style.background = profit < 0 ? "#c62828" : "#1b5e20";

        // Loan EMI (Simplified 9% annual)
        const loanP = parseFloat(document.getElementById('lAmt').value) || 0;
        const emi = (loanP * 1.09) / 12;
        document.getElementById('emiRes').innerText = "‚Çπ" + Math.round(emi).toLocaleString();
    }

    function savePDF() {
        const element = document.getElementById('report-content');
        const opt = { margin: 10, filename: 'FarmReport.pdf', image: { type: 'jpeg', quality: 0.98 }, html2canvas: { scale: 2 }, jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' } };
        html2pdf().set(opt).from(element).save();
    }

    // Initial Load
    window.onload = runCalculations;
</script>

</body>
</html>
